{"version":3,"sources":["../../src/component/AudioAnalyser/index.js"],"names":["React","Component","MediaRecorder","RenderCanvas","AudioAnalyser","prevProps","props","status","event","inactive","stopAudio","recording","startAudio","paused","pauseAudio","children","className","audioSrc","renderCanvas","defaultProps","backgroundColor","strokeColor","audioBitsPerSecond","mimeType","audioType","width","height"],"mappings":";;;;;;;;;;AAAA;;;AAGA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAO,aAAP;;IAKMC,a,GAFLF,a,UACAC,Y;;;;;;;;;;;2CAGsBE,S,EAAW;AAC1B,gBAAI,KAAKC,KAAL,CAAWC,MAAX,KAAsBF,UAAUE,MAApC,EAA4C;AACxC,oBAAMC,QAAQ;AACVC,8BAAU,KAAKC,SADL;AAEVC,+BAAW,KAAKC,UAFN;AAGVC,4BAAQ,KAAKC;AAHH,kBAIZ,KAAKR,KAAL,CAAWC,MAJC,CAAd;AAKAC,yBAASA,OAAT;AACH;AACJ;;;iCAEQ;AAAA,yBAGD,KAAKF,KAHJ;AAAA,gBAEDS,QAFC,UAEDA,QAFC;AAAA,gBAESC,SAFT,UAESA,SAFT;AAAA,gBAEoBC,QAFpB,UAEoBA,QAFpB;;AAIL,mBACI;AAAA;AAAA,kBAAK,WAAWD,SAAhB;AACI;AAAA;AAAA;AACK,yBAAKE,YAAL;AADL,iBADJ;AAIKH,wBAJL;AAMQE,4BACA;AAAA;AAAA;AACI,mDAAO,cAAP,EAAgB,KAAKA,QAArB;AADJ;AAPR,aADJ;AAcH;;;;EA/BuBhB,S;;AAkC5BG,cAAce,YAAd,GAA6B;AACzBC,qBAAiB,kBADQ;AAEzBC,iBAAa,SAFY;AAGzBL,eAAW,gBAHc;AAIzBM,wBAAoB,MAJK;AAKzBC,cAAU,YALe;AAMzBC,eAAW,YANc;AAOzBC,WAAO,GAPkB;AAQzBC,YAAQ;AARiB,CAA7B;;AAWA,eAAetB,aAAf","file":"index.js","sourcesContent":["/**\r\n * Created by j_bleach on 2018/8/1.\r\n */\r\nimport React, {Component} from \"react\";\r\nimport MediaRecorder from \"./MediaRecorder\";\r\nimport RenderCanvas from \"./RenderCanvas\";\r\nimport \"./index.css\";\r\n\r\n\r\n@MediaRecorder\r\n@RenderCanvas\r\nclass AudioAnalyser extends Component {\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.status !== prevProps.status) {\r\n            const event = {\r\n                inactive: this.stopAudio,\r\n                recording: this.startAudio,\r\n                paused: this.pauseAudio\r\n            }[this.props.status];\r\n            event && event();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            children, className, audioSrc\r\n        } = this.props;\r\n        return (\r\n            <div className={className}>\r\n                <div>\r\n                    {this.renderCanvas()}\r\n                </div>\r\n                {children}\r\n                {\r\n                    audioSrc &&\r\n                    <div>\r\n                        <audio controls src={audioSrc}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAudioAnalyser.defaultProps = {\r\n    backgroundColor: \"rgba(0, 0, 0, 1)\",\r\n    strokeColor: \"#ffffff\",\r\n    className: \"audioContainer\",\r\n    audioBitsPerSecond: 128000,\r\n    mimeType: \"audio/webm\",\r\n    audioType: \"audio/webm\",\r\n    width: 500,\r\n    height: 100\r\n};\r\n\r\nexport default AudioAnalyser;\r\n\r\n"]}